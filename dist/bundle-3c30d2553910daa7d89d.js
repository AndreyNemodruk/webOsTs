(()=>{"use strict";function t(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class e{constructor(e){t(this,"api",void 0),t(this,"errorHandler",void 0),this.api="https://devmegogoapi.briz.tv",this.errorHandler=e}get(t,e){fetch(this.api.concat(t)).then((t=>t.json())).then((t=>{e&&e(t.data)})).catch((t=>this.errorHandler.syntaxError(t)))}}function i(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class r{constructor(t){i(this,"_itemId",void 0),i(this,"_idx",void 0),i(this,"_itemContainerId",void 0),i(this,"_channelData",void 0),i(this,"cardElement",void 0),this._itemId=t.id,this._idx=t.idx,this._itemContainerId=t.itemContainerId,this._channelData=t.channelData,this.cardElement=document.createElement("div")}generateItem(){this.cardElement.classList.add("channel-card"),this.cardElement.setAttribute("id",this._itemId.toString());const t=`<div class="channel-card_image"><img src="${this._channelData.logo}"/></div>${this._channelData.briz_billing_product_info.is_available?"":'<span class="channel-card_lock"></span>'}<span class="channel-card_name">${this._channelData.name}</span>`;this.cardElement.innerHTML=t}renderItem(){this.generateItem(),document.getElementById(this._itemContainerId)?.append(this.cardElement)}addSelected(){this.cardElement.classList.add("channel-card_active")}removeSelected(){this.cardElement.classList.remove("channel-card_active")}get channelData(){return this._channelData}get itemId(){return this._itemId}get idx(){return this._idx}get itemContainerId(){return this._itemContainerId}}function n(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class s{constructor(t){n(this,"_itemId",void 0),n(this,"_idx",void 0),n(this,"_itemContainerId",void 0),n(this,"_filmtData",void 0),n(this,"cardElement",void 0),n(this,"generateItem",(()=>{this.cardElement.classList.add("film-card"),this.cardElement.setAttribute("id",this._itemId.toString()),this.filmData.image.small,this.cardElement.style.backgroundImage=`url(${this.filmData.image.small})`})),n(this,"renderItem",(()=>{this.generateItem(),document.getElementById(this._itemContainerId)?.append(this.cardElement)})),n(this,"addSelected",(()=>{this.cardElement.classList.add("film-card_active")})),n(this,"removeSelected",(()=>{this.cardElement.classList.remove("film-card_active")})),this._itemId=t.filmData.id,this._idx=t.idx,this._itemContainerId=t.itemContainerId,this._filmtData=t.filmData,this.cardElement=document.createElement("div")}get filmData(){return this._filmtData}get itemId(){return this._itemId}get idx(){return this._idx}get itemContainerId(){return this._itemContainerId}}function a(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class d{constructor(t){a(this,"cards",void 0),a(this,"listElId",void 0),a(this,"containerId",void 0),a(this,"activeCard",void 0),a(this,"listEl",void 0),a(this,"left",void 0),a(this,"title",void 0),a(this,"itemWidth",void 0),a(this,"sliderIndexRight",void 0),a(this,"sliderIndexLeft",void 0),a(this,"init",(()=>{this.listEl.setAttribute("id",this.listElId);const t=document.getElementById(this.containerId);if(this.title){const e=document.createElement("p");e.classList.add("list-title"),e.innerHTML=this.title,t?.appendChild(e)}t?.appendChild(this.listEl),this.renderItems(),this.cards[this.activeCard].addSelected()})),a(this,"goRight",(()=>{let t=this.activeCard+1;t>this.cards.length-1&&(t=0),this.listEl.style.transform=`translate(${this.left-this.itemWidth}px, 0)`,this.left=this.left-this.itemWidth,this.cards[this.activeCard-1]&&(this.cards[this.activeCard-1].cardElement.style.transform=`translate(${this.cards.length*this.itemWidth*this.sliderIndexRight}px, 0)`),this.cards[this.activeCard].removeSelected(),this.cards[t].addSelected(),this.activeCard=t,0===t&&(this.cards[this.cards.length-1].cardElement.style.transform=`translate(${this.cards.length*this.itemWidth*this.sliderIndexRight}px, 0)`,this.sliderIndexRight+=1,this.sliderIndexLeft=this.sliderIndexRight-1)})),a(this,"goLeft",(()=>{let t=this.activeCard-1;t<0||(this.listEl.style.transform=`translate(${this.left+this.itemWidth}px, 0)`,this.left=this.left+this.itemWidth,this.cards[this.activeCard].removeSelected(),this.cards[t].addSelected(),0===this.activeCard&&(this.sliderIndexLeft=this.sliderIndexLeft-1,this.sliderIndexRight=this.sliderIndexLeft+1),this.cards[t-1]&&(this.cards[t-1].cardElement.style.transform=`translate(${this.cards.length*this.itemWidth*this.sliderIndexLeft}px, 0)`),this.activeCard=t)})),this.sliderIndexRight=1,this.sliderIndexLeft=0,this.listElId=t.listElId,this.containerId=t.containerId,this.activeCard=0,this.listEl=document.createElement("div"),this.left=0,this.title=t.title,this.itemWidth=t.itemWidth,"channel"===t.type&&(this.cards=t.dataItems.map(((t,e)=>new r({id:t.id,idx:e,itemContainerId:this.listElId,channelData:t})))),"film"===t.type&&(this.cards=t.dataItems.map(((t,e)=>new s({id:t.id,idx:e,itemContainerId:this.listElId,filmData:t}))))}renderItems(){this.cards.forEach((t=>t.renderItem()))}}let E;function l(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}!function(t){t[t.KEY_TOOLS=10135]="KEY_TOOLS",t[t.KEY_MUTE=449]="KEY_MUTE",t[t.KEY_RETURN=461]="KEY_RETURN",t[t.KEY_UP=38]="KEY_UP",t[t.KEY_DOWN=40]="KEY_DOWN",t[t.KEY_LEFT=37]="KEY_LEFT",t[t.KEY_RIGHT=39]="KEY_RIGHT",t[t.KEY_ENTER=13]="KEY_ENTER",t[t.KEY_INFO=457]="KEY_INFO",t[t.KEY_EXIT=10182]="KEY_EXIT",t[t.KEY_RED=403]="KEY_RED",t[t.KEY_GREEN=404]="KEY_GREEN",t[t.KEY_YELLOW=405]="KEY_YELLOW",t[t.KEY_BLUE=406]="KEY_BLUE",t[t.KEY_RW=412]="KEY_RW",t[t.KEY_PAUSE=19]="KEY_PAUSE",t[t.KEY_FF=417]="KEY_FF",t[t.KEY_PLAY=415]="KEY_PLAY",t[t.KEY_STOP=413]="KEY_STOP",t[t.KEY_1=49]="KEY_1",t[t.KEY_2=50]="KEY_2",t[t.KEY_3=51]="KEY_3",t[t.KEY_4=52]="KEY_4",t[t.KEY_5=53]="KEY_5",t[t.KEY_6=54]="KEY_6",t[t.KEY_7=55]="KEY_7",t[t.KEY_8=56]="KEY_8",t[t.KEY_9=57]="KEY_9",t[t.KEY_0=48]="KEY_0",t[t.KEY_EMPTY=189]="KEY_EMPTY",t[t.KEY_DONE=65376]="KEY_DONE",t[t.KEY_PRECH=10190]="KEY_PRECH",t[t.KEY_SOURCE=10072]="KEY_SOURCE",t[t.KEY_CHLIST=10073]="KEY_CHLIST",t[t.KEY_MENU=18]="KEY_MENU",t[t.KEY_WLINK=10071]="KEY_WLINK",t[t.KEY_CONTENT=10071]="KEY_CONTENT",t[t.KEY_REC=416]="KEY_REC",t[t.KEY_PANEL_ENTER=10171]="KEY_PANEL_ENTER",t[t.KEY_TV=10153]="KEY_TV",t[t.KEY_VOL_UP=447]="KEY_VOL_UP",t[t.KEY_VOL_DOWN=448]="KEY_VOL_DOWN",t[t.KEY_CH_UP=427]="KEY_CH_UP",t[t.KEY_CH_DOWN=428]="KEY_CH_DOWN",t[t.KEY_TTX_MIX=10200]="KEY_TTX_MIX",t[t.KEY_ASPECT=10140]="KEY_ASPECT",t[t.KEY_MTS=10195]="KEY_MTS",t[t.KEY_12=1057]="KEY_12",t[t.KEY_3D=10199]="KEY_3D",t[t.KEY_PIP_ONOFF=10235]="KEY_PIP_ONOFF",t[t.KEY_AD=10230]="KEY_AD",t[t.KEY_PMODE=10141]="KEY_PMODE",t[t.KEY_SMODE=10197]="KEY_SMODE",t[t.KEY_PIP_CHUP=10167]="KEY_PIP_CHUP",t[t.KEY_PIP_CHDOWN=10168]="KEY_PIP_CHDOWN",t[t.KEY_FF_=10233]="KEY_FF_",t[t.KEY_REWIND_=10232]="KEY_REWIND_",t[t.KEY_SLEEP=10150]="KEY_SLEEP",t[t.KEY_ZOOM1=10222]="KEY_ZOOM1",t[t.KEY_ANTENA=10169]="KEY_ANTENA",t[t.KEY_DVR=10218]="KEY_DVR",t[t.KEY_HOME=10071]="KEY_HOME",t[t.KEY_TV_SNS=10217]="KEY_TV_SNS",t[t.KEY_SEARCH=10225]="KEY_SEARCH",t[t.KEY_NETFLIX=10234]="KEY_NETFLIX",t[t.KEY_HDMI=10143]="KEY_HDMI",t[t.KEY_EMANUAL=10146]="KEY_EMANUAL",t[t.KEY_BT_NUMBER=10193]="KEY_BT_NUMBER",t[t.KEY_BT_HOTKEY=10162]="KEY_BT_HOTKEY",t[t.KEY_RECOMMEND_SEARCH_TOGGLE=10192]="KEY_RECOMMEND_SEARCH_TOGGLE",t[t.KEY_REMONTE_CONTROL=1537]="KEY_REMONTE_CONTROL",t[t.KEY_MOUSE_CONTROL=1536]="KEY_MOUSE_CONTROL"}(E||(E={}));class o{constructor(t){l(this,"errorHandler",void 0),l(this,"activeComponent",void 0),l(this,"controlRemote",(t=>{switch(t.keyCode){case E.KEY_RIGHT:this.activeComponent.goRight();break;case E.KEY_LEFT:this.activeComponent.goLeft()}})),l(this,"setActive",(t=>{this.activeComponent=t})),this.errorHandler=t}}class h{constructor(){}syntaxError(t){var e={name:t.name,fileName:t.fileName,lineNumber:t.lineNumber,columnNumber:t.columnNumber,message:t.message,stack:t.stack};console.log(e)}errorInfo(){}loadInfo(){}destroyLoadInfo(){}destroyErrorInfo(){}}function c(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}(new class{constructor(){c(this,"server",void 0),c(this,"configuration",void 0),c(this,"navigation",void 0),c(this,"errorHandler",void 0),c(this,"init",(()=>{document.addEventListener("keydown",this.navigation.controlRemote),this.server.get("/api/tv/channels-popular",((t,e)=>{new d({dataItems:t,containerId:"channels",title:"Телеканалы",listElId:"tv-channels-list",type:"channel",itemWidth:276}).init()})),this.server.get("/api/mgg/video?category_id=4&sort=year&limit=35",((t,e)=>{const i={dataItems:t.video_list,containerId:"films",title:"Фильмы",listElId:"films-list",type:"film",itemWidth:182},r=new d(i);r.init(),this.navigation.setActive(r)}))})),c(this,"render",(()=>{const t=document.querySelector("body");t&&(t.innerHTML="<div>\n      <h1>Hello, World!!!!!!</h1>\n    </div>")})),this.errorHandler=new h,this.navigation=new o(this.errorHandler),this.server=new e(this.errorHandler)}get config(){return this.configuration}}).init()})();